# Development and Build Tools

## Overview

This document catalogs all development tools, build systems, task runners, and utilities used in the agentic-shell-python project.

---

## Package Managers

### Python - uv
- **Version**: Latest (managed by Aspire)
- **Purpose**: Fast Python package installer and runner
- **Usage**:
  - Aspire uses `.WithUv()` method
  - Replaces traditional pip + virtualenv workflow
- **Benefits**: 
  - 10-100x faster than pip
  - Rust-based for performance
- **Location**: Used in `apphost.cs` for backend orchestration
- **Documentation**: https://github.com/astral-sh/uv

### Node.js - npm
- **Version**: Bundled with Node 20
- **Purpose**: JavaScript/TypeScript package management
- **Scripts Defined** (`src/agentic-ui/package.json`):
  - `dev`: Runs Next.js development server
  - `build`: Production build
  - `start`: Starts production server
  - `lint`: ESLint execution
- **Installation Strategy**: `npm ci` for reproducible builds
- **Usage**: Aspire uses `.WithNpm(installCommand: "ci")`

### APM (Agent Package Manager)
- **Version**: Installed via pip (latest)
- **Purpose**: Engineering standards package management
- **Installation**: `pip install --user apm-cli`
- **Configuration**: `apm.yml`
- **Commands**:
  - `apm install`: Install dependencies from apm.yml
  - `apm compile`: Generate AGENTS.md from packages
  - `apm update`: Update all packages to latest
  - `apm run <script>`: Execute workflow scripts
- **Location**: Available in dev container post-create
- **Repository**: https://github.com/danielmeppiel/apm

---

## Build Tools

### Next.js Build System
- **Framework**: Next.js 16.0.3
- **Build Command**: `npm run build`
- **Output Mode**: Standalone (configured in `next.config.ts`)
- **Features**:
  - Automatic code splitting
  - Image optimization
  - Server-side rendering
  - Static site generation
  - Incremental Static Regeneration
- **Optimization**:
  - Turbopack enabled (experimental bundler)
  - Tree shaking
  - Minification
  - Compression
- **Build Artifacts**: `.next/` directory

### Python Build
- **Method**: Direct source execution (no build step)
- **Entry Point**: `main.py` via Uvicorn
- **Dependencies**: Managed by uv from pyproject.toml
- **Container**: Aspire handles containerization automatically

### Docker Multi-Stage Builds
**Frontend Dockerfile** (`src/agentic-ui/Dockerfile`):
- **Stage 1 (deps)**: Install dependencies only
- **Stage 2 (builder)**: Build application
  - Installs Linux x64 native binaries for Tailwind
  - Runs `npm run build`
- **Stage 3 (runner)**: Production image
  - Minimal runtime dependencies
  - Non-root user (nextjs:nodejs)
  - Standalone Next.js output

**Backend Container**: Generated by Aspire (no explicit Dockerfile)

---

## Task Runners & Orchestration

### .NET Aspire
- **Version**: 13.0.0
- **Purpose**: Local development orchestration
- **Configuration**: `apphost.cs`
- **Capabilities**:
  - Multi-service orchestration
  - Automatic service discovery
  - Environment variable injection
  - Port management
  - Log aggregation
- **Run Command**: `dotnet run --project apphost.cs`
- **Services Managed**:
  - `agentic-api`: Python/Uvicorn backend
  - `agentic-ui`: Next.js frontend

### Azure Developer CLI (azd)
- **Version**: Stable
- **Purpose**: Deployment orchestration
- **Configuration**: `azure.yaml`
- **Commands Used**:
  - `azd init`: Project initialization
  - `azd up`: Deploy everything
  - `azd deploy`: Deploy services
  - `azd provision`: Provision infrastructure
  - `azd env get-values`: Retrieve environment variables
- **Hooks**:
  - Post-provision: Configures apphost.settings.json
- **Integration**: Works with Bicep for IaC

### Make / Task Files
- **Status**: **NOT PRESENT**
- **Alternative**: APM scripts in `apm.yml` for workflow automation

---

## Code Quality Tools

### Linting

#### ESLint (Frontend)
- **Version**: ^9
- **Configuration**: `eslint.config.mjs` (flat config format)
- **Preset**: `eslint-config-next` (Next.js best practices)
- **Run Command**: `npm run lint`
- **IDE Integration**: Automatic via VS Code extension
- **Rules**: Next.js recommended + TypeScript support

#### Python Linting
- **Status**: **NOT CONFIGURED**
- **Missing Tools**:
  - Black (code formatter)
  - Flake8 (linting)
  - Pylint (static analysis)
  - mypy (type checking)
- **Recommendation**: Add Python linting for consistency

### Formatting

#### Prettier
- **Status**: **NOT CONFIGURED**
- **Note**: ESLint handles some formatting for JS/TS
- **Recommendation**: Add Prettier for consistent formatting

#### EditorConfig
- **File**: `.editorconfig` (present in repository)
- **Purpose**: Editor-agnostic code formatting settings
- **Covered**: Indentation, line endings, charset

---

## Type Checking

### TypeScript Compiler (tsc)
- **Version**: ^5
- **Configuration**: `tsconfig.json`
- **Settings**:
  - Strict mode enabled
  - Incremental compilation
  - Path aliases configured
  - JSX: React
- **Run Command**: `npx tsc --noEmit` (type check without emit)
- **IDE Integration**: Real-time checking in VS Code

### Python Type Checking
- **Status**: **NOT CONFIGURED**
- **Missing**: mypy or pyright
- **Risk**: No static type validation despite Python 3.11+ type hints

---

## Testing Tools

### Test Frameworks
- **Status**: **NOT CONFIGURED**
- **Missing Frontend**:
  - Jest (unit testing)
  - React Testing Library
  - Playwright (E2E) - dependency present but no tests
- **Missing Backend**:
  - pytest (unit testing)
  - httpx (API testing)
- **Impact**: No automated testing infrastructure

### Testing Infrastructure
- **Playwright**: Dependency in package-lock.json but no test files
- **Recommendation**: Set up comprehensive testing

---

## Version Control Tools

### Git
- **Usage**: Standard version control
- **Configuration**: `.gitignore` for Node, Python, .NET, Azure
- **Repository**: GitHub (EmeaAppGbb/agentic-shell-python)

### GitHub Tools Integration
- **GitHub Copilot**: Configured in dev container
- **GitHub Agents**: Defined in `.github/agents/`
- **MCP Server**: GitHub operations via `https://api.githubcopilot.com/mcp/`

---

## Documentation Tools

### MKDocs
- **Version**: Latest (installed in dev container)
- **Purpose**: Project documentation generation
- **Configuration**: Expected `mkdocs.yml` (not present in current state)
- **Plugins Installed**:
  - mkdocs-material: Material Design theme
  - pymdown-extensions: Enhanced Markdown
  - mkdocstrings: API documentation from code
  - mkdocs-monorepo-plugin: Multi-repo support
  - mkdocs-pdf-export-plugin: PDF export
  - mkdocs-awesome-pages-plugin: Page organization
  - mkdocs-minify-plugin: Asset minification
  - mkdocs-git-revision-date-localized-plugin: Git metadata
- **Run Commands**:
  - `mkdocs serve`: Local preview
  - `mkdocs build`: Generate static site
  - `mkdocs gh-deploy`: Deploy to GitHub Pages

### Markdown
- **Usage**: Ubiquitous (README, prompts, agents, specs)
- **Linting**: Not configured
- **Recommendation**: Add markdownlint for consistency

---

## Infrastructure as Code Tools

### Bicep
- **Version**: Latest (via Azure CLI)
- **Purpose**: Azure resource definitions
- **Files**: `infra/*.bicep`
- **Compilation**: `az bicep build`
- **Deployment**: Via `azd` or `az deployment` commands
- **Modules**: Azure Verified Modules from public registry

### Azure Resource Manager (ARM)
- **Usage**: Bicep compiles to ARM JSON
- **Direct Usage**: None (Bicep used instead)

### Terraform
- **Status**: **NOT USED**
- **Alternative**: Bicep for Azure-native IaC

---

## CI/CD Tools

### GitHub Actions
- **Status**: **NOT CONFIGURED** in visible repository
- **Expected**: Workflows for:
  - Build and test
  - Deploy to Azure
  - Dependency updates
- **Recommendation**: Add CI/CD workflows

### Azure Pipelines
- **Status**: **NOT CONFIGURED**
- **Alternative**: azd-driven deployment

---

## Debugging Tools

### VS Code Debugger
- **Configuration**: `.vscode/launch.json` (present)
- **Targets**: 
  - .NET Aspire app host
  - Python backend
  - Next.js frontend (via Chrome)
- **Features**:
  - Breakpoints
  - Variable inspection
  - Call stack analysis

### Browser DevTools
- **Frontend**: Chrome/Edge DevTools
- **React**: React Developer Tools extension
- **Network**: Built-in network inspector

---

## Containerization Tools

### Docker
- **Version**: Latest (Docker-in-Docker in dev container)
- **Purpose**: 
  - Container builds
  - Local testing
  - Production deployment
- **Buildx**: Installed for multi-platform builds
- **Docker Compose**: Installed but not used (Aspire handles orchestration)

### Azure Container Registry (ACR)
- **Purpose**: Container image storage
- **Access**: Managed identity-based
- **Integration**: Automated via azd deployment

---

## Monitoring & Observability Tools

### Application Insights
- **SDK**: Configured via connection string
- **Purpose**: 
  - Performance monitoring
  - Exception tracking
  - Custom telemetry
- **Integration**: Environment variable injection

### OpenTelemetry
- **Configuration**: `telemetry.configure_opentelemetry()` in backend
- **Purpose**: Distributed tracing
- **Status**: Configured but implementation details unclear

### Azure Monitor
- **Components**:
  - Log Analytics Workspace
  - Application Insights
  - Dashboard
- **Provisioned**: Yes (via `infra/resources.bicep`)

---

## AI & MCP Tools

### Model Context Protocol (MCP) Servers
**Configuration**: `.vscode/mcp.json`

**HTTP-Based**:
- **context7**: Library documentation lookup
- **github**: Repository operations
- **microsoft.docs.mcp**: Microsoft documentation
- **deepwiki**: Repository understanding
- **copilotkit**: CopilotKit integration

**STDIO-Based**:
- **playwright**: Browser automation via npx

### AI Agents
**Defined in** `.github/agents/*.agent.md`:
- PM, Dev Lead, Dev, Azure, Architect, Planner, Modernizer, Tech Analyst

**Purpose**: Structured AI-assisted development workflows

---

## Shell & Scripting

### Bash/Shell Scripts
- **Post-provision**: `infra/scripts/postprovision.sh`
- **Purpose**: Configures apphost.settings.json after Azure deployment
- **Tools Used**: jq (JSON processor) with sed fallback

### PowerShell
- **Post-provision**: `infra/scripts/postprovision.ps1` (Windows)
- **Purpose**: Same as bash script for Windows environments

---

## Missing Tools & Recommendations

### High Priority
1. **Python Linting**: Add Black, Flake8, mypy
2. **Testing Frameworks**: Add pytest, Jest, Playwright tests
3. **CI/CD Pipeline**: Add GitHub Actions workflows
4. **Dependency Scanning**: Add Dependabot or Snyk
5. **Python Lock File**: Generate requirements.txt or poetry.lock

### Medium Priority
6. **Prettier**: Add for consistent formatting
7. **Markdown Linting**: Add markdownlint
8. **Pre-commit Hooks**: Add husky or pre-commit framework
9. **API Documentation**: Add OpenAPI/Swagger generation
10. **Security Scanning**: Add CodeQL or similar

### Low Priority
11. **Performance Profiling**: Add py-spy or clinic.js
12. **Load Testing**: Add k6 or Artillery
13. **Visual Regression**: Add Percy or Chromatic
14. **Bundle Analysis**: Add Next.js bundle analyzer

---

## Tool Versions Summary

| Tool | Version | Status |
|------|---------|--------|
| Python | 3.11+ (3.12 in dev) | ✅ Modern |
| Node.js | 20 | ✅ LTS |
| npm | ~10 | ✅ Current |
| uv | Latest | ✅ Modern |
| TypeScript | 5.x | ✅ Latest |
| ESLint | 9.x | ✅ Latest |
| Next.js | 16.0.3 | ✅ Latest |
| .NET SDK | 9.0 | ✅ Latest |
| Aspire | 13.0.0 | ✅ Stable |
| Azure CLI | Latest | ✅ Current |
| azd | Stable | ✅ Production |
| Bicep | Latest | ✅ Current |
| Docker | Latest | ✅ Modern |
| MKDocs | Latest | ✅ Current |

---

## Conclusion

The project uses **modern, cutting-edge tools** across the stack. Key observations:

**Strengths**:
- Latest versions of all major tools
- Excellent orchestration (Aspire)
- Modern package managers (uv, npm)
- Comprehensive dev container setup

**Gaps**:
- No testing infrastructure
- Missing Python code quality tools
- No CI/CD pipelines configured
- No automated security scanning

**Recommendation**: Prioritize adding testing frameworks and CI/CD pipelines to complement the modern development stack.
