# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json
name: agentic-shell-python
services:
  agentic-api:
    project: src/agentic-api
    host: containerapp
    language: python
  agentic-ui:
    project: src/agentic-ui
    host: containerapp
    language: ts
resources:
  agentic-api:
    type: host.containerapp
    port: 8080
  agentic-ui:
    type: host.containerapp
    uses:
      - agentic-api
    port: 80
hooks:
  postprovision:
    posix:
      shell: sh
      run: ./infra/scripts/postprovision.sh
      continueOnError: false
    windows:
      shell: pwsh
      run: ./infra/scripts/postprovision.ps1
      continueOnError: false

